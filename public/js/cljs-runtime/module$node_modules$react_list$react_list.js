shadow$provide.module$node_modules$react_list$react_list=function(global$jscomp$0,require,module,exports){(function(global,factory){"function"===typeof define&&define.amd?define("react-list",["prop-types","react"],factory):"undefined"!==typeof exports?factory(require("module$node_modules$prop_types$index"),require("module$node_modules$react$index")):(factory(global.PropTypes,global.React),global.ReactList={})})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:this,function(_propTypes,
_react){function _getRequireWildcardCache(){if("function"!==typeof WeakMap)return null;var cache=new WeakMap;_getRequireWildcardCache=function(){return cache};return cache}function _typeof(obj$jscomp$0){"@babel/helpers - typeof";_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&
null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p$jscomp$0)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();
return function(){var Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);if(!Super||"object"!==_typeof(Super)&&"function"!==typeof Super){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Super=this}return Super}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||
Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);
enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,
key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}_propTypes=_propTypes&&_propTypes.__esModule?_propTypes:{"default":_propTypes};_react=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!==typeof obj)return{"default":obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);
var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj["default"]=obj;cache&&cache.set(obj,newObj);return newObj}(_react);var _class,_temp,CLIENT_SIZE_KEYS={x:"clientWidth",y:"clientHeight"},CLIENT_START_KEYS={x:"clientTop",y:"clientLeft"},
INNER_SIZE_KEYS={x:"innerWidth",y:"innerHeight"},OFFSET_SIZE_KEYS={x:"offsetWidth",y:"offsetHeight"},OFFSET_START_KEYS={x:"offsetLeft",y:"offsetTop"},OVERFLOW_KEYS={x:"overflowX",y:"overflowY"},SCROLL_SIZE_KEYS={x:"scrollWidth",y:"scrollHeight"},SCROLL_START_KEYS={x:"scrollLeft",y:"scrollTop"},SIZE_KEYS={x:"width",y:"height"},NOOP=function(){},PASSIVE=function(){if("undefined"===typeof window)return!1;var hasSupport=!1;try{document.createElement("div").addEventListener("test",NOOP,{get passive(){hasSupport=
!0;return!1}})}catch(e){}return hasSupport}()?{passive:!0}:!1,constrain=function(props,state){var length=props.length,type=props.type,from=state.from,size=state.size,itemsPerRow=state.itemsPerRow;size=Math.max(size,props.minSize);(props=size%itemsPerRow)&&(size+=itemsPerRow-props);size>length&&(size=length);from="simple"!==type&&from?Math.max(Math.min(from,length-size),0):0;if(props=from%itemsPerRow)from-=props,size+=props;return from===state.from&&size==state.size?state:_objectSpread(_objectSpread({},
state),{},{from,size})};module.exports=(_temp=_class=function(_Component){function ReactList(props){if(!(this instanceof ReactList))throw new TypeError("Cannot call a class as a function");var _this=_super.call(this,props);_this.state=constrain(props,{itemsPerRow:1,from:props.initialIndex,size:0});_this.cache={};_this.cachedScrollPosition=null;_this.prevPrevState={};_this.unstable=!1;_this.updateCounter=0;return _this}_inherits(ReactList,_Component);var _super=_createSuper(ReactList);_createClass(ReactList,
null,[{key:"getDerivedStateFromProps",value:function(props,state){props=constrain(props,state);return props===state?null:props}}]);_createClass(ReactList,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this);window.addEventListener("resize",this.updateFrameAndClearCache);this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(prevProps){var _this2=this;this.props.axis!==prevProps.axis&&
this.clearSizeCache();if(!this.unstable){if(40<++this.updateCounter)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){_this2.updateCounter=0;delete _this2.updateCounterTimeoutId},0));this.updateFrame()}}},{key:"maybeSetState",value:function(b,cb){a:{for(JSCompiler_inline_result in b)if(this.state[JSCompiler_inline_result]!==b[JSCompiler_inline_result]){var JSCompiler_inline_result=!1;break a}JSCompiler_inline_result=
!0}if(JSCompiler_inline_result)return cb();this.setState(b,cb)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache);this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,PASSIVE);this.scrollParent.removeEventListener("mousewheel",NOOP,PASSIVE)}},{key:"getOffset",value:function(el){var axis=this.props.axis,offset=el[CLIENT_START_KEYS[axis]]||0;axis=OFFSET_START_KEYS[axis];do offset+=el[axis]||0;while(el=el.offsetParent);
return offset}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"===typeof this.cachedScrollPosition)return this.cachedScrollPosition;var scrollParent=this.scrollParent,scrollKey=SCROLL_START_KEYS[this.props.axis];scrollKey=scrollParent===window?document.body[scrollKey]||document.documentElement[scrollKey]:scrollParent[scrollKey];var max=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this);scrollKey=Math.max(0,Math.min(scrollKey,
max));max=this.getEl();return this.cachedScrollPosition=this.getOffset(scrollParent)+scrollKey-this.getOffset(max)}},{key:"setScroll",value:function(offset){var scrollParent=this.scrollParent,axis=this.props.axis;offset+=this.getOffset(this.getEl());if(scrollParent===window)return window.scrollTo(0,offset);offset-=this.getOffset(this.scrollParent);scrollParent[SCROLL_START_KEYS[axis]]=offset}},{key:"getScrollSize",value:function(){var scrollParent=this.scrollParent,_document=document,body=_document.body;
_document=_document.documentElement;var key=SCROLL_SIZE_KEYS[this.props.axis];return scrollParent===window?Math.max(body[key],_document[key]):scrollParent[key]}},{key:"hasDeterminateSize",value:function(){var _this$props=this.props,itemSizeGetter=_this$props.itemSizeGetter;return"uniform"===_this$props.type||itemSizeGetter}},{key:"getStartAndEnd",value:function(){var threshold=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.threshold,scroll=this.getScrollPosition(),start=Math.max(0,
scroll-threshold);threshold=scroll+this.props.scrollParentViewportSizeGetter(this)+threshold;this.hasDeterminateSize()&&(threshold=Math.min(threshold,this.getSpaceBefore(this.props.length)));return{start,end:threshold}}},{key:"getItemSizeAndItemsPerRow",value:function(){var _this$props2=this.props,axis=_this$props2.axis,_this$state=this.state,itemSize=_this$state.itemSize;_this$state=_this$state.itemsPerRow;if(_this$props2.useStaticSize&&itemSize&&_this$state)return{itemSize,itemsPerRow:_this$state};
_this$props2=this.items.children;if(!_this$props2.length)return{};_this$state=_this$props2[0];var firstElSize=_this$state[OFFSET_SIZE_KEYS[axis]],delta=Math.abs(firstElSize-itemSize);if(isNaN(delta)||1<=delta)itemSize=firstElSize;if(!itemSize)return{};axis=OFFSET_START_KEYS[axis];firstElSize=_this$state[axis];_this$state=1;for(delta=_this$props2[_this$state];delta&&delta[axis]===firstElSize;delta=_this$props2[_this$state])++_this$state;return{itemSize,itemsPerRow:_this$state}}},{key:"clearSizeCache",
value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(cb){this.clearSizeCache();return this.updateFrame(cb)}},{key:"updateFrame",value:function(cb){this.updateScrollParent();"function"!=typeof cb&&(cb=NOOP);switch(this.props.type){case "simple":return this.updateSimpleFrame(cb);case "variable":return this.updateVariableFrame(cb);case "uniform":return this.updateUniformFrame(cb)}}},{key:"updateScrollParent",value:function(){var prev=this.scrollParent;this.scrollParent=
this.props.scrollParentGetter(this);prev!==this.scrollParent&&(prev&&(prev.removeEventListener("scroll",this.updateFrameAndClearCache),prev.removeEventListener("mousewheel",NOOP)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,PASSIVE),this.scrollParent.addEventListener("mousewheel",NOOP,PASSIVE))}},{key:"updateSimpleFrame",value:function(cb){var end=this.getStartAndEnd().end,itemEls=this.items.children,elEnd=0;if(itemEls.length){elEnd=this.props.axis;
var firstItemEl=itemEls[0];itemEls=itemEls[itemEls.length-1];elEnd=this.getOffset(itemEls)+itemEls[OFFSET_SIZE_KEYS[elEnd]]-this.getOffset(firstItemEl)}if(elEnd>end)return cb();end=this.props;this.maybeSetState({size:Math.min(this.state.size+end.pageSize,end.length)},cb)}},{key:"updateVariableFrame",value:function(cb){this.props.itemSizeGetter||this.cacheSizes();var _this$getStartAndEnd2=this.getStartAndEnd(),start=_this$getStartAndEnd2.start;_this$getStartAndEnd2=_this$getStartAndEnd2.end;var _this$props4=
this.props,length=_this$props4.length;_this$props4=_this$props4.pageSize;for(var space=0,from=0,size=0,maxFrom=length-1;from<maxFrom;){var itemSize=this.getSizeOfItem(from);if(null==itemSize||space+itemSize>start)break;space+=itemSize;++from}for(start=length-from;size<start&&space<_this$getStartAndEnd2;){length=this.getSizeOfItem(from+size);if(null==length){size=Math.min(size+_this$props4,start);break}space+=length;++size}this.maybeSetState(constrain(this.props,{from,itemsPerRow:1,size}),cb)}},{key:"updateUniformFrame",
value:function(cb){var _this$getItemSizeAndI=this.getItemSizeAndItemsPerRow(),itemSize=_this$getItemSizeAndI.itemSize;_this$getItemSizeAndI=_this$getItemSizeAndI.itemsPerRow;if(!itemSize||!_this$getItemSizeAndI)return cb();var _this$getStartAndEnd3=this.getStartAndEnd(),start=_this$getStartAndEnd3.start;_this$getStartAndEnd3=constrain(this.props,{from:Math.floor(start/itemSize)*_this$getItemSizeAndI,size:(Math.ceil((_this$getStartAndEnd3.end-start)/itemSize)+1)*_this$getItemSizeAndI,itemsPerRow:_this$getItemSizeAndI});
return this.maybeSetState({itemsPerRow:_this$getItemSizeAndI,from:_this$getStartAndEnd3.from,itemSize,size:_this$getStartAndEnd3.size},cb)}},{key:"getSpaceBefore",value:function(index){var cache=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(null!=cache[index])return cache[index];var _this$state2=this.state,itemSize=_this$state2.itemSize;_this$state2=_this$state2.itemsPerRow;if(itemSize)return cache[index]=Math.floor(index/_this$state2)*itemSize;for(_this$state2=index;0<_this$state2&&
null==cache[--_this$state2];);for(itemSize=cache[_this$state2]||0;_this$state2<index;++_this$state2){cache[_this$state2]=itemSize;var _itemSize2=this.getSizeOfItem(_this$state2);if(null==_itemSize2)break;itemSize+=_itemSize2}return cache[index]=itemSize}},{key:"cacheSizes",value:function(){for(var cache=this.cache,from=this.state.from,itemEls=this.items.children,sizeKey=OFFSET_SIZE_KEYS[this.props.axis],i=0,l=itemEls.length;i<l;++i)cache[from+i]=itemEls[i][sizeKey]}},{key:"getSizeOfItem",value:function(index){var cache=
this.cache,items=this.items,_this$props5=this.props,axis=_this$props5.axis,itemSizeGetter=_this$props5.itemSizeGetter,itemSizeEstimator=_this$props5.itemSizeEstimator;_this$props5=_this$props5.type;var _this$state3=this.state,from=_this$state3.from,itemSize=_this$state3.itemSize;_this$state3=_this$state3.size;if(itemSize)return itemSize;if(itemSizeGetter)return itemSizeGetter(index);if(index in cache)return cache[index];if("simple"===_this$props5&&index>=from&&index<from+_this$state3&&items&&(items=
items.children[index-from]))return items[OFFSET_SIZE_KEYS[axis]];if(itemSizeEstimator)return itemSizeEstimator(index,cache)}},{key:"scrollTo",value:function(index){null!=index&&this.setScroll(this.getSpaceBefore(index))}},{key:"scrollAround",value:function(index){var current=this.getScrollPosition(),bottom=this.getSpaceBefore(index),top=bottom-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(index);index=Math.min(top,bottom);bottom=Math.max(top,bottom);if(current<=index)return this.setScroll(index);
if(current>bottom)return this.setScroll(bottom)}},{key:"getVisibleRange",value:function(){var _this$state4=this.state,from=_this$state4.from;_this$state4=_this$state4.size;var _this$getStartAndEnd4=this.getStartAndEnd(0),start=_this$getStartAndEnd4.start;_this$getStartAndEnd4=_this$getStartAndEnd4.end;for(var cache={},first,last,i=from;i<from+_this$state4;++i){var itemStart=this.getSpaceBefore(i,cache),itemEnd=itemStart+this.getSizeOfItem(i);null==first&&itemEnd>start&&(first=i);null!=first&&itemStart<
_this$getStartAndEnd4&&(last=i)}return[first,last]}},{key:"renderItems",value:function(){var _this3=this,_this$props6=this.props,itemRenderer=_this$props6.itemRenderer;_this$props6=_this$props6.itemsRenderer;var _this$state5=this.state,from=_this$state5.from;_this$state5=_this$state5.size;for(var items=[],i=0;i<_this$state5;++i)items.push(itemRenderer(from+i,i));return _this$props6(items,function(c){return _this3.items=c})}},{key:"render",value:function(){var _this4=this,_this$props7=this.props,axis=
_this$props7.axis,length=_this$props7.length,type=_this$props7.type;_this$props7=_this$props7.useTranslate3d;var _this$state6=this.state,from=_this$state6.from,itemsPerRow=_this$state6.itemsPerRow;_this$state6=this.renderItems();if("simple"===type)return _this$state6;type={position:"relative"};var cache={};if(length=this.getSpaceBefore(Math.ceil(length/itemsPerRow)*itemsPerRow,cache))type[SIZE_KEYS[axis]]=length,"x"===axis&&(type.overflowX="hidden");from=this.getSpaceBefore(from,cache);length="x"===
axis?from:0;axis="y"===axis?from:0;axis=_this$props7?"translate3d(".concat(length,"px, ").concat(axis,"px, 0)"):"translate(".concat(length,"px, ").concat(axis,"px)");return _react["default"].createElement("div",{style:type,ref:function(c){return _this4.el=c}},_react["default"].createElement("div",{style:{msTransform:axis,WebkitTransform:axis,transform:axis}},_this$state6))}}]);return ReactList}(_react.Component),_defineProperty(_class,"displayName","ReactList"),_defineProperty(_class,"propTypes",
{axis:_propTypes["default"].oneOf(["x","y"]),initialIndex:_propTypes["default"].number,itemRenderer:_propTypes["default"].func,itemSizeEstimator:_propTypes["default"].func,itemSizeGetter:_propTypes["default"].func,itemsRenderer:_propTypes["default"].func,length:_propTypes["default"].number,minSize:_propTypes["default"].number,pageSize:_propTypes["default"].number,scrollParentGetter:_propTypes["default"].func,scrollParentViewportSizeGetter:_propTypes["default"].func,threshold:_propTypes["default"].number,
type:_propTypes["default"].oneOf(["simple","variable","uniform"]),useStaticSize:_propTypes["default"].bool,useTranslate3d:_propTypes["default"].bool}),_defineProperty(_class,"defaultProps",{axis:"y",itemRenderer:function(index,key){return _react["default"].createElement("div",{key},index)},itemsRenderer:function(items,ref){return _react["default"].createElement("div",{ref},items)},length:0,minSize:1,pageSize:10,scrollParentGetter:function(component){var axis=component.props.axis;component=component.getEl();
for(axis=OVERFLOW_KEYS[axis];component=component.parentElement;)switch(window.getComputedStyle(component)[axis]){case "auto":case "scroll":case "overlay":return component}return window},scrollParentViewportSizeGetter:function(component){var axis=component.props.axis;component=component.scrollParent;return component===window?window[INNER_SIZE_KEYS[axis]]:component[CLIENT_SIZE_KEYS[axis]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),_temp)})}
//# sourceMappingURL=module$node_modules$react_list$react_list.js.map
